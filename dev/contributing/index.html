<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Contributing · COSMO.jl</title><meta name="title" content="Contributing · COSMO.jl"/><meta property="og:title" content="Contributing · COSMO.jl"/><meta property="twitter:title" content="Contributing · COSMO.jl"/><meta name="description" content="Documentation for COSMO.jl."/><meta property="og:description" content="Documentation for COSMO.jl."/><meta property="twitter:description" content="Documentation for COSMO.jl."/><meta property="og:url" content="https://oxfordcontrol.github.io/COSMO.jl/stable/contributing/"/><meta property="twitter:url" content="https://oxfordcontrol.github.io/COSMO.jl/stable/contributing/"/><link rel="canonical" href="https://oxfordcontrol.github.io/COSMO.jl/stable/contributing/"/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-134239283-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-134239283-1', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/><script src="../assets/github_buttons.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="COSMO.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">COSMO.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li><a class="tocitem" href="../jump/">JuMP Interface</a></li><li><a class="tocitem" href="../lin_solver/">Linear System Solver</a></li><li><a class="tocitem" href="../acceleration/">Acceleration</a></li><li><a class="tocitem" href="../literate/build/custom_cone/">Custom Cone Constraint</a></li><li><a class="tocitem" href="../decomposition/">Chordal Decomposition</a></li><li><a class="tocitem" href="../literate/build/portfolio_model_updates/">Model Updates</a></li><li><a class="tocitem" href="../literate/build/arbitrary_precision/">Arbitrary Precision</a></li><li><a class="tocitem" href="../performance/">Performance Tips</a></li></ul></li><li><a class="tocitem" href="../method/">Method</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/closest_correlation_matrix/">Closest Correlation Matrix</a></li><li><a class="tocitem" href="../examples/logistic_regression/">Logistic Regression</a></li><li><a class="tocitem" href="../examples/lovasz_petersen/">Lovász Theta Function</a></li><li><a class="tocitem" href="../examples/lp/">Linear Program</a></li><li><a class="tocitem" href="../examples/maxcut/">Maximum Cut Problem</a></li><li><a class="tocitem" href="../examples/portfolio_optimisation/">Portfolio Optimisation</a></li><li><a class="tocitem" href="../examples/qp/">Quadratic Program</a></li><li><a class="tocitem" href="../examples/sum_abs_k_eigenvalues/">Minimizing the sum of the k-largest λ</a></li><li><a class="tocitem" href="../examples/svm_primal/">Support Vector Machine</a></li><li><a class="tocitem" href="../examples/two_way_partitioning/">Relaxed Two-Way Partitioning Problem</a></li></ul></li><li><a class="tocitem" href="../citing/">Citing COSMO</a></li><li class="is-active"><a class="tocitem" href>Contributing</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#How-to-develop"><span>How-to develop</span></a></li><li><a class="tocitem" href="#Making-a-new-release"><span>Making a new release</span></a></li><li><a class="tocitem" href="#Updating-COSMO&#39;s-documentation"><span>Updating COSMO&#39;s documentation</span></a></li><li class="toplevel"><a class="tocitem" href="#Code-Style-Guide"><span>Code Style Guide</span></a></li></ul></li><li><a class="tocitem" href="../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Contributing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Contributing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/oxfordcontrol/COSMO.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/oxfordcontrol/COSMO.jl/blob/master/docs/src/contributing.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Contributing"><a class="docs-heading-anchor" href="#Contributing">Contributing</a><a id="Contributing-1"></a><a class="docs-heading-anchor-permalink" href="#Contributing" title="Permalink"></a></h1><p>This package is currently in maintenance mode. </p><p>We are trying to keep it compatible with new releases of JuMP/MOI. Contributions for bug fixes or new features are always welcome. Enhancement ideas are tagged as such in the <a href="https://github.com/oxfordcontrol/ossdp/issues">Issues</a> section. If you are unsure how to develop, continue with the section below.</p><h1 id="How-to-develop"><a class="docs-heading-anchor" href="#How-to-develop">How-to develop</a><a id="How-to-develop-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-develop" title="Permalink"></a></h1><p>Let&#39;s assume you found a bug that you want to fix or develop a new feature. You have already downloaded the latest julia version as well as git. Follow these steps to make changes, test the changes, and open your first PR. This assumes that you don&#39;t yet have push access to the repository and need to fork.</p><ul><li><p>Create a new fork in Github by clicking on <code>Fork</code> at the top right of the repository page and name it e.g. <code>migarstka/COSMO.jl</code>. (If you have repository push rights, you don&#39;t need to fork and can clone the repository directly.)</p></li><li><p>Clone the forked repository to your machine with:</p></li></ul><pre><code class="language-bash hljs">$ git clone git@github.com:migarstka/COSMO.jl.git</code></pre><ul><li>Navigate into the new folder and create a new branch:</li></ul><pre><code class="language-bash hljs">$ git checkout -b mg/bug_fix</code></pre><ul><li><p>Make your code changes by modifying the files in the repository.</p></li><li><p>As a first sanity check that nothing obvious is broken, you can run one of the examples in the <code>examples/</code> folder. Open julia and navigate into the git repository. Next, we want to activate and instantiate the repositories virtual environment. In the julia REPL type <code>]</code>, then to activate the current environment (i.e. current <code>Project.toml</code> file):</p></li></ul><pre><code class="language-julia hljs">(@v1.8) pkg&gt;  activate .</code></pre><p>Next, instantiate the environment, i.e. install the solver&#39;s dependencies defined in <code>Project.toml</code>:</p><pre><code class="language-julia hljs">(COSMO) pkg&gt; instantiate</code></pre><ul><li>Since we instantiated the local envrionment, <code>COSMO</code>  now refers to the local version that includes your changes. You can solve an example problem using the modified code:</li></ul><pre><code class="language-julia hljs">julia&gt; include(&quot;examples/qp.jl&quot;)</code></pre><p>Let&#39;s assume you have made some changes and want to check whether the bug is fixed or the new feature broke anything. In both cases you should add some new tests for the change to <code>/test/UnitTest</code> and <code>/test/run_cosmo_tests.jl</code>. If you want to run existing tests follow the steps below.</p><h3 id="How-to-run-tests"><a class="docs-heading-anchor" href="#How-to-run-tests">How-to run tests</a><a id="How-to-run-tests-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-run-tests" title="Permalink"></a></h3><p>You can run all package-native tests with the main test file:</p><pre><code class="language-julia hljs">julia&gt; include(&quot;test/run_cosmo_tests.jl&quot;)</code></pre><p>The full test suite also includes several MathOptInterface test problems that you can run with:</p><pre><code class="language-julia hljs">julia&gt; include(&quot;test/runtests.jl&quot;)</code></pre><p>These take longer to complete, so I recommend using <code>test/run_cosmo_tests.jl</code> during iterative development and then switch to  <code>test/runtests.jl</code> once the previous tests pass.</p><h3 id="Open-a-PR"><a class="docs-heading-anchor" href="#Open-a-PR">Open a PR</a><a id="Open-a-PR-1"></a><a class="docs-heading-anchor-permalink" href="#Open-a-PR" title="Permalink"></a></h3><p>Once all tests pass, you have added additional tests for your changes, and used docstrings to describe any new functionality in the code, you can open a PR. Commit your changes with a detailed commit message, and push your branch to the (fork) remote.</p><pre><code class="language-bash hljs">$ git add .
$ git commit 
[Write commit message]
$ git push</code></pre><p>Then navigate to <a href="https://github.com/oxfordcontrol/COSMO.jl/compare">https://github.com/oxfordcontrol/COSMO.jl/compare</a> and create a new PR with <code>base repository: oxfordcontrol/COSMO.jl</code> <code>base: master</code> and <code>head repository: [your-fork-repo]</code> <code>base:mg/bug_fix</code>. Ask me or other collaborators to review it, before it can get merged.</p><h2 id="Making-a-new-release"><a class="docs-heading-anchor" href="#Making-a-new-release">Making a new release</a><a id="Making-a-new-release-1"></a><a class="docs-heading-anchor-permalink" href="#Making-a-new-release" title="Permalink"></a></h2><p>Changes to <code>master</code> are periodically bundled in a new release version of the package. If you have permissions, you can make a new release by following these steps:</p><ol><li>Ensure all tests pass (locally and in Github Actions)</li><li>Locally run <code>bumpversion patch</code> (or <code>bumpversion minor</code> or <code>bumpversion major</code> depending on <a href="https://semver.org/">semver</a> convention) to increment the version number across the repository (most importantly in <code>Project.toml</code>).</li><li>Check and commit the changes and use the commit message <code>Bump version to X</code>. </li><li>Push changes to remote with <code>git push</code>.</li><li>Let the julia package registry know about the new release by commenting <code>@JuliaRegistrator register</code> on the bump commit (like <a href="https://github.com/oxfordcontrol/COSMO.jl/commit/20764ba075e1f598ec17990fb1721dcb5a3b418b#commitcomment-141674207">here</a>).</li><li>This will open a PR in the <code>JuliaRegistries</code> repository and a new release will typically be approved within hours.</li><li>Update the <a href="https://github.com/oxfordcontrol/COSMO.jl/blob/master/CHANGELOG.md">CHANGELOG</a> and describe the changes bundled in the new release.</li></ol><h2 id="Updating-COSMO&#39;s-documentation"><a class="docs-heading-anchor" href="#Updating-COSMO&#39;s-documentation">Updating COSMO&#39;s documentation</a><a id="Updating-COSMO&#39;s-documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Updating-COSMO&#39;s-documentation" title="Permalink"></a></h2><p>The code for COSMO&#39;s documentation resides in the <code>/docs</code> folder of the repository and is created with the <a href="https://documenter.juliadocs.org/stable/">Documenter.jl package</a>. There are two main versions of this documentation. <strong>Stable</strong> is based on the committed changes of the latest tagged release. <strong>Dev</strong> is based on the latest commit of <code>master</code>.</p><p>The documentation has its own environment defined inside <code>/docs</code> (see <code>docs/Project.toml</code> file). To edit the documentation, edit the files in <code>/docs</code>. It&#39;s advised to run the documentation generation process locally do ensure the layout is as expected and that <code>Literate</code> code examples are built without errors. To generate the documentation locally, follow these steps:</p><ul><li>Clone the repository and make your changes (as described in the section above).</li><li>Navigate into the <code>/docs</code> folder and start julia.</li><li>Activate and instantiate the (docs) environment, after <code>]</code>, type:</li></ul><pre><code class="language-julia hljs">(@v1.8) pkg&gt; activate .</code></pre><pre><code class="language-julia hljs">(docs) pkg&gt; instantiate</code></pre><ul><li>Build the documentation locally into the <code>/build</code> folder with</li></ul><pre><code class="language-julia hljs">include(&quot;make.jl&quot;)</code></pre><p>(The first build will take several minutes. Subsequent changes will take ~30s.)</p><ul><li>After the new documentation has been built, you can serve the files in <code>/build</code> in your browser, e.g. using a python webserver. Navigate into <code>/build</code> and run:</li></ul><pre><code class="language-bash hljs">python3 -m http.server --bind localhost</code></pre><ul><li><p>View the local documentation in your browser of choice at <code>http://127.0.0.1:8000/</code></p></li><li><p>If you are satisfied with the results, open a PR for the changes as described in the section above.</p></li></ul><h1 id="Code-Style-Guide"><a class="docs-heading-anchor" href="#Code-Style-Guide">Code Style Guide</a><a id="Code-Style-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Code-Style-Guide" title="Permalink"></a></h1><p>The code in this repository follows the naming and style conventions of <a href="https://docs.julialang.org/en/v1.0/manual/style-guide/#Style-Guide-1">Julia Base</a> with a few modifications. This style guide is heavily &quot;inspired&quot; by the guides of <a href="https://github.com/johnmyleswhite/Style.jl">John Myles White</a> and <a href="https://jump.dev/JuMP.jl/stable/developers/style/">JuMP</a>.</p><h3 id="Formatting"><a class="docs-heading-anchor" href="#Formatting">Formatting</a><a id="Formatting-1"></a><a class="docs-heading-anchor-permalink" href="#Formatting" title="Permalink"></a></h3><ul><li><p>Use one tab when indenting a new block (except <code>module</code>)</p></li><li><p>Use spaces between operators, except for <code>^</code>, <code>&#39;</code>, and <code>:</code></p></li><li><p>Use single space after commas and semicolons</p></li><li><p>Don&#39;t use spaces around parentheses, or braces</p></li></ul><p><strong>Bad</strong>: <code>f(x,y) = [5*sin(x+y);y&#39;]</code> <strong>Good</strong>: <code>f(x, y) = [5 * sin(x + y); y&#39;]</code></p><ul><li>Use spacing with keyword arguments</li></ul><p><strong>Bad</strong>: <code>foo(x::Integer=1)</code> <strong>Good</strong>: <code>foo(x::Integer = 1)</code></p><ul><li>Don&#39;t parenthesize conditions</li></ul><p><strong>Bad</strong>: <code>if (a == b)</code> <strong>Good</strong>: <code>if a == b</code></p><h3 id="Naming"><a class="docs-heading-anchor" href="#Naming">Naming</a><a id="Naming-1"></a><a class="docs-heading-anchor-permalink" href="#Naming" title="Permalink"></a></h3><ul><li>Modules and Type names use capitilization and camel case, e.g. <code>module LinearAlgebra</code>, <code>struct ConvexSets</code>.</li><li>Functions are lowercase and use underscores to seperate words, e.g. <code>has_key(x)</code>, <code>is_valid(y)</code>.</li><li>Normal variables are lowercase and use underscores like functions, e.g. <code>convex_set</code></li><li>Constants are uppercase, e.g. <code>const MY_CONSTANT</code></li><li><strong>Always</strong> append <code>!</code> to names of functions that modify their arguments.</li><li>Function arguments that are mutated come first. Otherwise follow the rules layed out in Julia Base <a href="https://docs.julialang.org/en/v1.0/manual/style-guide/#Write-functions-with-argument-ordering-similar-to-Julia-Base-1">Argument ordering</a></li><li>Files are named like functions, e.g. <code>my_new_file.jl</code></li></ul><h3 id="Syntax"><a class="docs-heading-anchor" href="#Syntax">Syntax</a><a id="Syntax-1"></a><a class="docs-heading-anchor-permalink" href="#Syntax" title="Permalink"></a></h3><ul><li>Use <code>1.0</code> instead of <code>1.</code></li></ul><h3 id="Git(hub)-specific-conventions"><a class="docs-heading-anchor" href="#Git(hub)-specific-conventions">Git(hub)-specific conventions</a><a id="Git(hub)-specific-conventions-1"></a><a class="docs-heading-anchor-permalink" href="#Git(hub)-specific-conventions" title="Permalink"></a></h3><ul><li>Branch names should be prepended with the initials of the creator and a forward slash, e.g. <code>mg/newIdea</code> instead of <code>newIdea</code></li><li>Commit messages should have the following format:</li></ul><pre><code class="nohighlight hljs">&lt;#IssueId&gt; Short (72 chars or less) summary

More detailed explanatory text. Wrap it to 72 characters. The blank
line separating the summary from the body is critical.

Imperative style for the commit message: &quot;Fix bug&quot; and not &quot;Fixed
bug&quot; or &quot;Fixes bug.&quot;

The issue id can be ommitted if the commit does not related to a specific open issue</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../citing/">« Citing COSMO</a><a class="docs-footer-nextpage" href="../api/">API Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Monday 6 May 2024 16:16">Monday 6 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
